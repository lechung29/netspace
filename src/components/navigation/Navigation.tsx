/** @format */

import { classNames } from "@/utils";
import { Avatar, Divider } from "antd";
import React from "react";
import { Link, useLocation } from "react-router-dom";
import { FaChevronDown, FaChevronUp } from "react-icons/fa6";

interface NavigationRoute {
    key: string;
    name: string;
    icon: React.JSX.Element;
    path: string;
    category?: string;
}

export const navigationRoutes: NavigationRoute[] = [
    {
        key: "feeds",
        name: "Feeds",
        icon: (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 48 48">
                <path fill="#E8EAF6" d="M42 39L6 39 6 23 24 6 42 23z"></path>
                <path fill="#C5CAE9" d="M39 21L34 16 34 9 39 9zM6 39H42V44H6z"></path>
                <path fill="#B71C1C" d="M24 4.3L4 22.9 6 25.1 24 8.4 42 25.1 44 22.9z"></path>
                <path fill="#D84315" d="M18 28H30V44H18z"></path>
                <path fill="#01579B" d="M21 17H27V23H21z"></path>
                <path fill="#FF8A65" d="M27.5,35.5c-0.3,0-0.5,0.2-0.5,0.5v2c0,0.3,0.2,0.5,0.5,0.5S28,38.3,28,38v-2C28,35.7,27.8,35.5,27.5,35.5z"></path>
            </svg>
        ),
        path: "/",
        category: "common",
    },
    {
        key: "messages",
        name: "Messages",
        icon: <img width="24" height="24" src="https://img.icons8.com/color-glass/48/speech-bubble-with-dots.png" alt="message-icon" />,
        path: "/messages",
        category: "common",
    },
    {
        key: "videos",
        name: "Videos",
        icon: <img width="24" height="24" src="https://img.icons8.com/dusk/64/clapperboard.png" alt="video-icon" />,
        path: "/videos",
        category: "common",
    },
    {
        key: "events",
        name: "Events",
        icon: <img width="24" height="24" src="https://img.icons8.com/color/48/today.png" alt="event-icon" />,
        path: "/events",
        category: "common",
    },
    {
        key: "pages",
        name: "Pages",
        icon: <img width="24" height="24" src="https://img.icons8.com/arcade/64/flag.png" alt="page-icon" />,
        path: "/pages",
        category: "common",
    },
    {
        key: "groups",
        name: "Groups",
        icon: <img width="24" height="24" src="https://img.icons8.com/color/48/staff-skin-type-7.png" alt="group-icon" />,
        path: "/groups",
        category: "common",
    },
    {
        key: "marketplace",
        name: "Marketplace",
        icon: <img width="24" height="24" src="https://img.icons8.com/scribby/50/shopping-bag.png" alt="shopping-bag-icon" />,
        path: "/marketplace",
        category: "common",
    },
    {
        key: "settings",
        name: "Settings",
        icon: (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 48 48">
                <path
                    fill="#bcbcbc"
                    d="M37.875,32.209c0.93,1.59,1.86,3.18,2.79,4.77c0.062,0.105,0.125,0.22,0.11,0.341 c-0.015,0.118-0.101,0.213-0.184,0.299c-0.991,1.025-2.063,1.97-3.204,2.825c-0.063,0.047-0.128,0.095-0.205,0.113 c-0.108,0.025-0.221-0.013-0.325-0.053c-1.59-0.6-3.073-1.484-4.356-2.599c-0.114-0.099-0.239-0.206-0.39-0.218 c-0.101-0.008-0.199,0.028-0.293,0.066c-1.123,0.459-2.182,1.365-3.394,1.398c-0.518,2.056-1.112,4.102-1.63,6.158 c-1.687-0.183-3.387-0.244-5.083-0.18c-0.343-1.823-0.686-3.647-1.029-5.47c-0.034-0.18-0.074-0.373-0.207-0.5 c-0.114-0.11-0.276-0.15-0.43-0.19c-1.286-0.328-2.466-0.842-3.598-1.534c-1.892,1.128-3.981,1.831-5.874,2.958 C9.551,39.4,8.78,38.839,7.756,37.847c-0.242-0.235-0.504-0.522-0.463-0.856c0.018-0.148,0.094-0.281,0.17-0.409 c0.917-1.548,1.974-3.013,3.153-4.372c-0.866-1.239-1.522-2.867-1.596-4.376c-1.825-0.222-3.786-0.685-5.576-1.104 c-0.139-0.032-0.286-0.071-0.381-0.177c-0.111-0.125-0.118-0.309-0.119-0.477c-0.008-1.186-0.015-2.372-0.023-3.558 c-0.002-0.259,0.004-0.541,0.165-0.744c0.096-0.122,0.237-0.199,0.374-0.271c1.708-0.896,3.58-1.478,5.495-1.71 c0.371-1.055,0.896-2.29,1.554-3.194c-0.913-1.561-1.826-3.356-2.739-4.917c-0.099-0.169-0.201-0.352-0.188-0.547 c0.016-0.241,0.201-0.432,0.375-0.6c1.051-1.016,2.102-2.031,3.153-3.047c0.077-0.074,0.161-0.153,0.267-0.168 c0.124-0.018,0.242,0.053,0.347,0.122c1.54,1.008,3.079,2.017,4.619,3.025c1.086-0.69,2.413-1.102,3.695-1.214 c0.396-2.05,0.891-4.082,1.337-6.121c1.704-0.225,3.427-0.313,5.145-0.262c0.135,0.004,0.278,0.011,0.392,0.083 c0.221,0.139,0.243,0.446,0.247,0.707c0.024,1.83,0.353,3.593,0.835,5.359c1.404,0.313,2.794,0.939,3.848,1.917 c1.527-1.188,3.228-2.152,5.031-2.853c1.605,0.692,3.073,1.702,4.292,2.955c-0.993,1.437-1.986,2.874-2.979,4.311 c-0.233,0.337-0.476,0.75-0.324,1.13c0.079,0.199,0.253,0.341,0.407,0.489c0.683,0.658,1.077,1.605,1.065,2.554 c1.842,0.589,3.684,1.177,5.526,1.766c0.101,0.032,0.206,0.067,0.276,0.146c0.093,0.105,0.101,0.258,0.104,0.398 c0.027,1.444,0.055,2.887,0.082,4.331c0.002,0.123,0.002,0.254-0.064,0.357c-0.085,0.132-0.251,0.18-0.403,0.219 c-1.83,0.462-3.741,1.046-5.571,1.509C39.285,29.627,38.728,31.124,37.875,32.209z M23.598,15.642 c-2.899,0.407-5.659,2.355-7.026,4.957s-1.274,6,0.488,8.35c1.01,1.347,2.47,2.285,3.982,3.019 c0.734,0.356,1.497,0.674,2.303,0.797c1.637,0.25,3.288-0.323,4.775-1.053c0.961-0.472,1.907-1.028,2.607-1.842 c0.665-0.773,1.071-1.741,1.328-2.731c0.693-2.677,0.292-5.667-1.272-7.942S26.322,15.259,23.598,15.642z"
                ></path>
                <path
                    fill="#231f20"
                    d="M45.784,23.996c-0.015-0.773,0.061-1.611-0.057-2.374c-0.102-0.659-0.628-0.785-1.191-0.965	c-1.574-0.503-3.149-1.006-4.723-1.509c-0.05-0.53-0.188-1.043-0.435-1.523c-0.149-0.29-0.342-0.559-0.556-0.805	c-0.093-0.106-0.236-0.2-0.312-0.318c-0.169-0.26-0.133-0.442-0.003-0.728c0.159-0.348,0.465-0.68,0.683-0.995	c0.284-0.411,0.567-0.821,0.851-1.232c0.52-0.753,1.04-1.505,1.56-2.258c0.125-0.181,0.069-0.457-0.078-0.606	c-0.67-0.677-1.4-1.291-2.189-1.825c-0.405-0.274-0.826-0.527-1.258-0.755c-0.323-0.171-0.821-0.51-1.198-0.521	c-0.381-0.011-0.944,0.348-1.281,0.502c-0.474,0.216-0.94,0.45-1.396,0.702c-0.819,0.453-1.595,0.971-2.344,1.53	c-1.012-0.815-2.184-1.367-3.442-1.696c-0.265-1.011-0.495-2.033-0.623-3.071c-0.068-0.548-0.106-1.098-0.124-1.65	c-0.012-0.367,0.008-0.777-0.21-1.096c-0.491-0.719-1.921-0.455-2.653-0.437c-1.146,0.028-2.289,0.121-3.426,0.267	C21.166,2.66,20.947,2.768,20.896,3c-0.426,1.938-0.885,3.87-1.273,5.816c-1.145,0.16-2.241,0.504-3.251,1.072	c-1.396-0.917-2.784-1.848-4.192-2.746c-0.588-0.375-0.987-0.409-1.509,0.077c-0.653,0.609-1.285,1.242-1.927,1.862	c-0.496,0.479-1.252,0.993-1.551,1.629c-0.305,0.65,0.166,1.248,0.476,1.795c0.767,1.352,1.487,2.73,2.26,4.078	c-0.565,0.859-0.983,1.805-1.339,2.769c-1.512,0.224-2.974,0.621-4.379,1.237c-0.565,0.248-1.364,0.498-1.65,1.098	c-0.318,0.667-0.134,1.656-0.129,2.373c0.005,0.758-0.132,1.664,0.054,2.401c0.176,0.699,0.876,0.763,1.477,0.903	c1.529,0.356,3.064,0.678,4.618,0.897c0.165,1.394,0.673,2.721,1.426,3.905c-0.569,0.676-1.117,1.369-1.629,2.089	c-0.304,0.428-0.596,0.864-0.877,1.307c-0.243,0.383-0.608,0.837-0.691,1.295c-0.152,0.841,0.699,1.461,1.242,1.95	c0.721,0.649,1.467,1.266,2.167,1.938c0.16,0.154,0.412,0.192,0.606,0.078c1.811-1.062,3.791-1.79,5.617-2.821	c0.585,0.338,1.185,0.646,1.813,0.901c0.403,0.164,0.814,0.308,1.232,0.431c0.437,0.128,0.638,0.09,0.734,0.576	c0.351,1.78,0.671,3.568,1.007,5.351c0.039,0.207,0.277,0.374,0.482,0.367c1.698-0.057,3.393,0.003,5.083,0.18	c0.211,0.022,0.432-0.171,0.482-0.367c0.496-1.955,1.047-3.896,1.549-5.849c0.687-0.117,1.311-0.397,1.933-0.737	c0.328-0.179,0.763-0.52,1.136-0.595c0.381-0.077,0.889,0.524,1.182,0.742c0.738,0.55,1.528,1.03,2.358,1.431	c0.583,0.281,1.46,0.849,2.108,0.509c0.762-0.4,1.475-1.146,2.109-1.719c0.389-0.351,0.774-0.711,1.137-1.09	c0.223-0.233,0.464-0.473,0.488-0.814c0.029-0.427-0.344-0.876-0.542-1.216c-0.242-0.415-0.485-0.829-0.728-1.244	c-0.514-0.88-1.029-1.759-1.543-2.639c0.74-1.058,1.186-2.294,1.285-3.58c1.561-0.406,3.109-0.862,4.67-1.272	c0.554-0.145,1.239-0.226,1.385-0.888C45.969,25.722,45.799,24.772,45.784,23.996z M44.821,25.921	c-0.028,0.237,0.03,0.261-0.21,0.364c-0.139,0.06-0.313,0.081-0.46,0.119c-0.31,0.081-0.619,0.165-0.927,0.249	c-1.356,0.372-2.707,0.764-4.07,1.111c-0.167,0.043-0.266,0.144-0.316,0.266c-0.013,0.026-0.015,0.06-0.023,0.09	c-0.004,0.023-0.014,0.044-0.015,0.068c-0.003,0.021-0.013,0.037-0.013,0.059c-0.027,1.357-0.526,2.634-1.343,3.71	c-0.104,0.138-0.082,0.365,0,0.505c0.485,0.829,0.97,1.659,1.455,2.488c0.222,0.38,0.445,0.76,0.667,1.141	c0.1,0.171,0.703,0.942,0.667,1.141c-0.045,0.252-0.601,0.642-0.795,0.827c-0.326,0.31-0.66,0.612-1.001,0.906	c-0.325,0.28-0.657,0.551-0.996,0.814c-0.132,0.102-0.301,0.263-0.428,0.273c-0.109,0.008-0.432-0.191-0.554-0.243	c-0.76-0.327-1.491-0.725-2.183-1.18c-0.379-0.249-0.745-0.516-1.097-0.802c-0.23-0.188-0.455-0.438-0.733-0.555	c-0.592-0.25-1.252,0.208-1.758,0.482c-0.717,0.389-1.43,0.845-2.265,0.899c-0.218,0.014-0.426,0.145-0.482,0.367	c-0.489,1.927-1.03,3.839-1.526,5.764c-1.427-0.135-2.858-0.186-4.292-0.154c-0.163-0.869-0.327-1.737-0.49-2.606	c-0.097-0.515-0.194-1.031-0.291-1.546c-0.079-0.42-0.106-0.911-0.281-1.305c-0.304-0.686-1.091-0.721-1.726-0.931	c-0.928-0.307-1.8-0.735-2.636-1.238c-0.153-0.092-0.352-0.09-0.505,0c-1.789,1.049-3.741,1.773-5.548,2.785	c-0.469-0.435-0.946-0.86-1.428-1.281c-0.29-0.253-0.578-0.51-0.859-0.774c-0.118-0.111-0.284-0.222-0.371-0.36	c-0.187-0.293-0.127-0.418,0.022-0.73c0.346-0.724,0.895-1.414,1.363-2.064c0.502-0.696,1.037-1.364,1.597-2.014	c0.138-0.16,0.208-0.415,0.078-0.606c-0.835-1.225-1.43-2.633-1.527-4.124c-0.019-0.296-0.216-0.464-0.5-0.5	c-1.315-0.166-2.614-0.438-3.906-0.73c-0.333-0.075-1.555-0.203-1.673-0.46c-0.091-0.199-0.001-0.673-0.002-0.898	c-0.002-0.356-0.004-0.712-0.007-1.067c-0.004-0.57-0.134-1.303-0.008-1.857c0.123-0.542,1.221-0.846,1.686-1.032	c1.232-0.493,2.53-0.828,3.846-0.996c0.238-0.03,0.4-0.137,0.482-0.367c0.385-1.079,0.841-2.134,1.503-3.075	c0.101-0.143,0.084-0.36,0-0.505c-0.87-1.496-1.66-3.036-2.52-4.538c-0.135-0.236-0.356-0.486-0.24-0.789	c0.054-0.142,0.286-0.282,0.392-0.385c0.321-0.31,0.642-0.621,0.963-0.931c0.35-0.339,0.701-0.677,1.051-1.016	c0.252-0.243,0.538-0.605,0.852-0.82c0.363,0.14,0.738,0.467,1.036,0.663c0.402,0.263,0.803,0.526,1.205,0.789	c0.803,0.526,1.607,1.052,2.41,1.578c0.145,0.095,0.359,0.089,0.505,0c1.05-0.644,2.218-1.023,3.442-1.146	c0.207-0.021,0.438-0.139,0.482-0.367c0.378-1.942,0.836-3.867,1.265-5.798c0.839-0.098,1.681-0.174,2.526-0.207	c0.45-0.018,0.9-0.026,1.35-0.025c0.226,0.001,0.52-0.049,0.737,0.01c0.263,0.071,0.257,0.146,0.264,0.412	c0.053,1.825,0.376,3.612,0.85,5.372c0.044,0.163,0.182,0.31,0.349,0.349c1.338,0.312,2.597,0.863,3.627,1.788	c0.148,0.133,0.427,0.216,0.606,0.078c1.46-1.122,3.055-2.046,4.761-2.737c1.352,0.626,2.574,1.455,3.652,2.481	c-0.492,0.712-0.984,1.425-1.476,2.137c-0.524,0.759-1.232,1.54-1.583,2.396c-0.286,0.699-0.018,1.179,0.467,1.676	c0.592,0.606,0.906,1.352,0.918,2.2c0.003,0.228,0.154,0.414,0.367,0.482c1.305,0.417,2.609,0.834,3.914,1.251	c0.307,0.098,0.614,0.196,0.921,0.294c0.153,0.049,0.311,0.09,0.46,0.147c0.387,0.149,0.163,0,0.246,0.256	c0.085,0.264,0.013,0.683,0.018,0.962c0.007,0.361,0.014,0.722,0.021,1.083C44.796,24.618,44.894,25.305,44.821,25.921z"
                ></path>
                <path
                    fill="#231f20"
                    d="M32.463,21.603c-1.102-3.731-4.805-6.964-8.865-6.461c-0.024,0.003-0.041,0.015-0.064,0.021	c-0.024,0.001-0.044-0.007-0.069-0.003c-3.472,0.528-6.656,3.028-7.835,6.361c-1.232,3.481-0.122,7.264,2.82,9.479	c1.494,1.125,3.445,2.192,5.343,2.313c1.965,0.125,3.997-0.739,5.644-1.745C32.74,29.546,33.502,25.123,32.463,21.603z M29.806,30.08c-1.286,1.103-3.147,1.927-4.811,2.18c-1.788,0.272-3.446-0.498-4.949-1.393c-1.407-0.838-2.655-1.96-3.323-3.482	c-0.638-1.454-0.748-3.134-0.396-4.675c0.79-3.458,3.911-6.03,7.353-6.574c3.117-0.343,6.085,1.779,7.371,4.535	C32.366,23.49,32.336,27.911,29.806,30.08z"
                ></path>
            </svg>
        ),
        path: "/settings",
        category: "personal",
    },
    {
        key: "profile",
        name: "Profile",
        icon: <Avatar size={28} src="/src/assets/banner.jpg" />,
        path: "/profile",
        category: "personal",
    },
];

const Navigation: React.FunctionComponent = () => {
    const [shortcutLength, setShortcutLength] = React.useState(3);
    const location = useLocation();
    const shortcutItem: NavigationRoute[] = [
        {
            key: "Marin Gray",
            name: "Marin Gray",
            icon: <Avatar size={28} src="/src/assets/banner.jpg" />,
            path: "/profile",
        },
        {
            key: "Alexander Stella",
            name: "Alexander Stella",
            icon: <Avatar size={28} src="/src/assets/banner.jpg" />,
            path: "/profile",
        },
        {
            key: "Sarah Ali",
            name: "Sarah Ali",
            icon: <Avatar size={28} src="/src/assets/banner.jpg" />,
            path: "/profile",
        },
        {
            key: "Lionel Green",
            name: "Lionel Green",
            icon: <Avatar size={28} src="/src/assets/banner.jpg" />,
            path: "/profile",
        },
        {
            key: "Alexander Tiny",
            name: "Alexander Tiny",
            icon: <Avatar size={28} src="/src/assets/banner.jpg" />,
            path: "/profile",
        },
        {
            key: "William Brown",
            name: "William Brown",
            icon: <Avatar size={28} src="/src/assets/banner.jpg" />,
            path: "/profile",
        },
    ];

    const SeeAllOrLessIcon = React.useMemo(() => {
        const Icon = shortcutLength === shortcutItem.length ? FaChevronUp : FaChevronDown;
        return <Icon className="dark:!text-white !text-black dark:group-hover:!text-white group-hover:!text-[#0284c7]" />;
    }, [shortcutLength]);

    const handleSeeAllOrLess = () => {
        setShortcutLength(shortcutLength === shortcutItem.length ? 3 : shortcutItem.length);
    };

    return (
        <div className="w-full flex flex-col gap-1">
            {navigationRoutes
                .filter((route) => route.category === "common")
                .map((route) => (
                    <Link
                        key={route.key}
                        className={classNames(
                            "flex items-center justify-start gap-4 dark:hover:!bg-[#334150] hover:!bg-[#e7f1fc] rounded-xl !px-4 !py-3 cursor-pointer dark:hover:!text-white hover:!text-[#0284c7] !text-sm font-medium", {
                                "dark:!bg-[#334150] !bg-[#e7f1fc] !text-[#0284c7] dark:!text-white": location.pathname === route.path
                            }
                        )}
                        to={route.path}
                    >
                        {route.icon}
                        {route.name}
                    </Link>
                ))}
            <Divider className="!my-2 dark:!bg-gray-600"/>
            <div className="!mx-3 !my-1 !text-sm font-semibold">Shortcut</div>
            {shortcutItem.slice(0, shortcutLength).map((route) => (
                <Link
                    key={route.key}
                    className={classNames(
                            "flex items-center justify-start gap-4 dark:hover:!bg-[#334150] hover:!bg-[#e7f1fc] rounded-xl !px-4 !py-3 cursor-pointer dark:hover:!text-white hover:!text-[#0284c7] !text-sm font-medium", {
                                "dark:!bg-[#334150] !bg-[#e7f1fc] !text-[#0284c7] dark:!text-white": location.pathname === route.path
                            }
                        )}
                    to={route.path}
                >
                    {route.icon}
                    {route.name}
                </Link>
            ))}
            {shortcutItem.length > 3 && (<div onClick={handleSeeAllOrLess} className="flex items-center justify-start gap-3 dark:!bg-transparent dark:hover:!bg-[#334150] hover:!bg-[#e7f1fc] rounded-xl !px-4 !py-3 cursor-pointer group !text-sm font-medium">
                {SeeAllOrLessIcon}
                <span className="!text-sm font-semibold dark:!text-white !text-black dark:group-hover:!text-white group-hover:!text-[#0284c7] select-none">{shortcutLength === shortcutItem.length ? "See less" : "See all"}</span>
            </div>)}
            <Divider className="!my-2 dark:!bg-gray-600" />
            <div className="!mx-3 !my-1 !text-sm font-semibold">Pages</div>
            {navigationRoutes
                .filter((route) => route.category === "personal")
                .map((route) => (
                    <Link
                        key={route.key}
                        className={classNames(
                            "flex items-center justify-start gap-4 dark:hover:!bg-[#334150] hover:!bg-[#e7f1fc] rounded-xl !px-4 !py-3 cursor-pointer dark:hover:!text-white hover:!text-[#0284c7] !text-sm font-medium", {
                                "dark:!bg-[#334150] !bg-[#e7f1fc] !text-[#0284c7] dark:!text-white": location.pathname === route.path
                            }
                        )}
                        to={route.path}
                    >
                        {route.icon}
                        {route.name}
                    </Link>
                ))}
        </div>
    );
};

export { Navigation };
